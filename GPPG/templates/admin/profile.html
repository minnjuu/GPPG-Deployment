{% extends "admin/admin.html" %} {% load static %} {% block title %}Map{% endblock title %}

<!-- Map menu highlight -->
{% block aside%}
<ul class="space-y-2 font-medium">
  <li>
    <a
      href="{% url 'admin_home' %}"
      class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
      <svg
        class="w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        viewBox="0 0 22 21">
        <path d="M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z" />
        <path d="M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z" />
      </svg>
      <span class="ms-3">Dashboard</span>
    </a>
  </li>
  <li>
    <a
      href="{% url 'admin_map' %}"
      class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
      <svg
        class="w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        viewBox="0 0 22 21">
        <path
          fill-rule="evenodd"
          d="M11.906 1.994a8.002 8.002 0 0 1 8.09 8.421 7.996 7.996 0 0 1-1.297 3.957.996.996 0 0 1-.133.204l-.108.129c-.178.243-.37.477-.573.699l-5.112 6.224a1 1 0 0 1-1.545 0L5.982 15.26l-.002-.002a18.146 18.146 0 0 1-.309-.38l-.133-.163a.999.999 0 0 1-.13-.202 7.995 7.995 0 0 1 6.498-12.518ZM15 9.997a3 3 0 1 1-5.999 0 3 3 0 0 1 5.999 0Z"
          clip-rule="evenodd" />
      </svg>
      <span class="flex-1 ms-3 whitespace-nowrap">Map</span>
    </a>
  </li>
  <li>
    <a
      href="{% url 'admin_report' %}"
      class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
      <svg
        class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        viewBox="0 0 20 20">
        <path
          d="m17.418 3.623-.018-.008a6.713 6.713 0 0 0-2.4-.569V2h1a1 1 0 1 0 0-2h-2a1 1 0 0 0-1 1v2H9.89A6.977 6.977 0 0 1 12 8v5h-2V8A5 5 0 1 0 0 8v6a1 1 0 0 0 1 1h8v4a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-4h6a1 1 0 0 0 1-1V8a5 5 0 0 0-2.582-4.377ZM6 12H4a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2Z" />
      </svg>
      <span class="flex-1 ms-3 whitespace-nowrap">Report</span>
      <span class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300">3</span>
    </a>
  </li>
  <li>
    <a
      href="{% url 'admin_charts' %}"
      class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
      <svg
        class="w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 22 21">
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 4v15a1 1 0 0 0 1 1h15M8 16l2.5-5.5 3 3L17.273 7 20 9.667" />
      </svg>

      <span class="flex-1 ms-3 whitespace-nowrap">Charts</span>
    </a>
  </li>
  <li>
    <button
      type="button"
      class="flex items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
      aria-controls="dropdown-example"
      data-collapse-toggle="dropdown-example">
      <svg
        class="w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        viewBox="0 0 22 21">
        <path
          d="M12 7.205c4.418 0 8-1.165 8-2.602C20 3.165 16.418 2 12 2S4 3.165 4 4.603c0 1.437 3.582 2.602 8 2.602ZM12 22c4.963 0 8-1.686 8-2.603v-4.404c-.052.032-.112.06-.165.09a7.75 7.75 0 0 1-.745.387c-.193.088-.394.173-.6.253-.063.024-.124.05-.189.073a18.934 18.934 0 0 1-6.3.998c-2.135.027-4.26-.31-6.3-.998-.065-.024-.126-.05-.189-.073a10.143 10.143 0 0 1-.852-.373 7.75 7.75 0 0 1-.493-.267c-.053-.03-.113-.058-.165-.09v4.404C4 20.315 7.037 22 12 22Zm7.09-13.928a9.91 9.91 0 0 1-.6.253c-.063.025-.124.05-.189.074a18.935 18.935 0 0 1-6.3.998c-2.135.027-4.26-.31-6.3-.998-.065-.024-.126-.05-.189-.074a10.163 10.163 0 0 1-.852-.372 7.816 7.816 0 0 1-.493-.268c-.055-.03-.115-.058-.167-.09V12c0 .917 3.037 2.603 8 2.603s8-1.686 8-2.603V7.596c-.052.031-.112.059-.165.09a7.816 7.816 0 0 1-.745.386Z" />
      </svg>
      <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Database</span>
      <svg
        class="w-3 h-3"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 10 6">
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="m1 1 4 4 4-4" />
      </svg>
    </button>
    <ul
      id="dropdown-example"
      class="hidden py-2 space-y-2">
      <li>
        <a
          href="{% url 'admin_activities_database' %}"
          class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
          >Activities</a
        >
      </li>
      <li>
        <a
          href="{% url 'admin_gallery_database' %}"
          class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
          >Gallery</a
        >
      </li>
      <li>
        <a
          href="{% url 'admin_officers_database' %}"
          class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
          >Officers</a
        >
      </li>
      <li>
        <a
          href="{% url 'admin_incident_database' %}"
          class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
          >Incident</a
        >
      </li>
      <li>
        <a
          href="{% url 'admin_userAccounts_database' %}"
          class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
          >User Accounts</a
        >
      </li>
    </ul>
  </li>
  <li>
    <a
      href="{% url 'admin_officers' %}"
      class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
      <svg
        class="w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        viewBox="0 0 22 21">
        <path
          fill-rule="evenodd"
          d="M12 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-1.5 8a4 4 0 0 0-4 4 2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-3Zm6.82-3.096a5.51 5.51 0 0 0-2.797-6.293 3.5 3.5 0 1 1 2.796 6.292ZM19.5 18h.5a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-1.1a5.503 5.503 0 0 1-.471.762A5.998 5.998 0 0 1 19.5 18ZM4 7.5a3.5 3.5 0 0 1 5.477-2.889 5.5 5.5 0 0 0-2.796 6.293A3.501 3.501 0 0 1 4 7.5ZM7.1 12H6a4 4 0 0 0-4 4 2 2 0 0 0 2 2h.5a5.998 5.998 0 0 1 3.071-5.238A5.505 5.505 0 0 1 7.1 12Z"
          clip-rule="evenodd" />
      </svg>
      <span class="flex-1 ms-3 whitespace-nowrap">Officers</span>
    </a>
  </li>
</ul>
{% endblock aside %}

<!-- Map Content -->
{% block title_content %} Admin Profile {% endblock title_content %} {% block content %}
<div class="w-full h-auto flex flex-col lg:flex-row bg-white rounded-2xl p-5 shadow-lg gap-1">
  <aside class="bg-white w-full p-6">
    <div class="border-b pb-4 mb-6">
      <div class="flex items-center justify-between w-full">
        <img
          class="w-24 h-24 ml-10 rounded-full"
          src="{% static 'img/logo.jpg' %}"
          alt="Avatar" />
        <button
          data-modal-target="modal_adminProfile_edit"
          data-modal-toggle="modal_adminProfile_edit"
          class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg">
          Edit Profile
        </button>
      </div>
      <div class="my-5 gap-1 flex flex-col">
        <h2 class="text-3xl font-bold text-gray-800">{{ user.username }}</h2>
        <p class="text-gray-600 mt-1">({{ user.first_name }} {{ user.last_name }})</p>

        <p class="text-gray-600 mt-1">Status: <span class="text-green-600 font-semibold">Active</span></p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <div>
          <h3 class="text-lg font-medium text-gray-800">Role</h3>
          <p class="text-gray-600 mt-1">Administrator</p>
        </div>
        <div>
          <h3 class="text-lg font-medium text-gray-800">Email</h3>
          <p class="text-gray-600 mt-1">{{ user.email }}</p>
        </div>
        <div>
          <h3 class="text-lg font-medium text-gray-800">Age</h3>
          <p class="text-gray-600 mt-1">24</p>
        </div>
        <div>
          <h3 class="text-lg font-medium text-gray-800">Gender</h3>
          <p class="text-gray-600 mt-1">Male</p>
        </div>

        <div>
          <h3 class="text-lg font-medium text-gray-800">Region</h3>
          <p class="text-gray-600 mt-1">MIMAROPA</p>
        </div>
        <div>
          <h3 class="text-lg font-medium text-gray-800">Address</h3>
          <p class="text-gray-600 mt-1">Bgry. 1, Roxas Palawan</p>
        </div>
        <div>
          <h3 class="text-lg font-medium text-gray-800">Contact</h3>
          <p class="text-gray-600 mt-1">0921381231</p>
        </div>
      </div>
    </div>

    <div>
      <h3 class="text-2xl font-semibold text-gray-800 mb-4">Your Activities</h3>
      <div class="bg-gray-50 p-4 rounded-lg shadow-md">
          <ul 
              class="divide-y divide-gray-200 overflow-y-auto scroll-thin" 
              style="max-height: 150px; padding-right: 10px; box-sizing: content-box;">
              {% for activity in user_logs %}
              <li class="py-3 flex justify-between items-center">
                  <div>
                      <span class="font-semibold">{{ activity.formatted_action }}</span> <br />
                      <span>{{ activity.object_repr }}</span>
                  </div>
                  <span class="text-sm text-gray-500">{{ activity.action_time|date:"d/m/Y h:i:s A" }}</span>
              </li>
              {% empty %}
              <li class="py-3 text-center text-gray-500">No activities found.</li>
              {% endfor %}
          </ul>
      </div>
  </div>
  
  
    
  </aside>

  <div class="bg-white w-3/5 h-auto shadow-md border rounded-lg p-6">
    <h3 class="text-2xl font-semibold text-gray-800 mb-4">Recent Activities</h3>
    <div class="bg-gray-50 p-4 rounded-lg shadow-md">
        <ul class="divide-y divide-gray-200">
            {% for log in all_logs %}
            <li class="py-3 flex justify-between items-center">
                <div>
                    <span class="font-semibold">{{ log.user.username }}</span> <br />
                    <span>{{ log.formatted_action }}</span> <br />
                    <span>{{ log.object_repr }}</span>
                </div>
                <span class="text-sm text-gray-500">{{ log.action_time|date:"d/m/Y h:i:s A" }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>

    {% if is_paginated %}
    <div class="mt-4 flex justify-center space-x-4">
        {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}" 
           class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200">
            Previous
        </a>
        {% endif %}

        <span class="px-4 py-2 text-gray-600">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
        </span>

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}"
           class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200">
            Next
        </a>
        {% endif %}
    </div>
    {% endif %}
</div>
</div>
{% include 'admin/includes/modal/modal_adminProfile_edit.html' %} {% endblock %}
